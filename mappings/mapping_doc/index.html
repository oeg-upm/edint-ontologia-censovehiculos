<!DOCTYPE html><html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Mappings RML para transformar el Censo/Registro de Vehículos a RDF (EDINT CensoVehículos). Version 1.0.0</title>

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"TechArticle",
  "name":"Mappings RML para transformar el Censo/Registro de Vehículos a RDF (EDINT CensoVehículos). Version 1.0.0",
  "headline":"Este conjunto de mappings RML transforma los datos de un censo o registro municipal de vehículos a RDF, utilizando la ontología EDINT CensoVehículos. El objetivo es generar un grafo RDF interoperable para representar las entidades principales del registro de vehículos y su información asociada, orientada a usos habituales de las entidades locales",
  "dateReleased":"14-02-2026",
  "dateModified":"14-02-2026",
  "version":"v1.0.0",
  "license":"",
  "author":[
    
      {"@type":"Person","name":"Jhon Toledo"}
    
  ]
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.26.0/cytoscape.min.js"></script>

<style>
  :root{
    --page-max: 1200px;
    --page-pad: clamp(14px, 3vw, 36px);
    --card-radius: 14px;
    --toc-w: 320px;

    /* Facebook blue */
    --fb-blue: 24, 119, 242;

    /* Soft UI tokens */
    --border-soft: rgba(var(--fb-blue), 0.14);
    --shadow-soft: rgba(var(--fb-blue), 0.12);
    --accent-soft: rgba(var(--fb-blue), 0.10);
    --accent-med: rgba(var(--fb-blue), 0.18);
    --accent-strong: rgba(var(--fb-blue), 0.28);
    --accent-outline: rgba(var(--fb-blue), 0.40);
  }

  body{ margin: 0; }
  .backlink{ display:none !important; }

  .page-wrap{
    max-width: var(--page-max);
    margin: 0 auto;
    padding: 18px var(--page-pad) 42px var(--page-pad);
  }

  .layout{
    display: grid;
    grid-template-columns: minmax(240px, var(--toc-w)) minmax(0, 1fr);
    gap: 22px;
    align-items: start;
  }
  @media (max-width: 980px){
    .layout{ grid-template-columns: 1fr; }
  }

  .head, .section-card, .tm-toc{
    border-radius: var(--card-radius);
    border: 1px solid var(--border-soft);
    box-shadow: 0 10px 30px var(--shadow-soft);
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(6px);
  }
  @media (prefers-color-scheme: dark){
    .head, .section-card, .tm-toc{
      background: rgba(20,20,20,0.55);
      border-color: rgba(255,255,255,0.10);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }
  }

  .head{ padding: 22px 22px 8px 22px; margin-bottom: 16px; }
  .section-card{ padding: 18px 20px; margin: 16px 0; }

  .head dl{
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 8px 14px;
    margin-top: 14px;
  }
  .head dt{ font-weight: 700; grid-column: 1; }
  .head dd{ margin-left: 0; grid-column: 2; }
  @media (max-width: 720px){
    .head dl{ grid-template-columns: 1fr; }
    .head dt, .head dd{ grid-column: auto; }
    .head dt{ margin-top: 10px; }
  }
  .badges span{ margin-right: 8px; display:inline-block; }

  /* ===== ToC ===== */
  .tm-toc{
    position: sticky;
    top: 14px;
    align-self: start;
    padding: 14px 14px;
    max-height: calc(100vh - 28px);
    overflow: auto;
  }
  @media (max-width: 980px){
    .tm-toc{ position: relative; top: auto; max-height: none; }
  }
  .tm-toc__header{
    display:flex;
    align-items:center;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 10px;
  }
  .tm-toc__header h2{ margin: 0; font-size: 1.05rem; }

  .tm-toc__toggle{
    border: 1px solid var(--border-soft);
    background: rgba(255,255,255,0.55);
    border-radius: 10px;
    padding: 6px 10px;
    cursor: pointer;
    font: inherit;
    transition: box-shadow 160ms ease, background 160ms ease, border-color 160ms ease;
  }
  .tm-toc__toggle:hover{
    background: rgba(255,255,255,0.85);
    border-color: rgba(var(--fb-blue), 0.22);
    box-shadow: 0 8px 18px rgba(var(--fb-blue), 0.12);
  }
  .tm-toc__toggle:focus-visible{
    outline: 3px solid var(--accent-outline);
    outline-offset: 2px;
  }
  @media (prefers-color-scheme: dark){
    .tm-toc__toggle{
      background: rgba(0,0,0,0.25);
      border-color: rgba(255,255,255,0.18);
    }
    .tm-toc__toggle:hover{
      border-color: rgba(var(--fb-blue), 0.35);
      box-shadow: 0 10px 24px rgba(0,0,0,0.35);
      background: rgba(0,0,0,0.35);
    }
  }

  .tm-toc__hint{ font-size: 0.9em; opacity: 0.75; margin: 0 0 10px 0; }
  .tm-toc__list{ list-style: none; padding-left: 0; margin: 0; }
  .tm-toc__list li{ margin: 6px 0; }
  .tm-toc__list a{
    text-decoration: none;
    display: block;
    padding: 6px 8px;
    border-radius: 10px;
    transition: background 140ms ease, outline-color 140ms ease;
  }
  .tm-toc__list a:hover{ background: var(--accent-soft); }
  .tm-toc__list a.is-active{
    font-weight: 800;
    outline: 2px solid var(--accent-strong);
    background: var(--accent-med);
  }
  .tm-toc.is-collapsed .tm-toc__list,
  .tm-toc.is-collapsed .tm-toc__hint{ display: none; }

  /* ===== TriplesMap Details ===== */
  .tm-details{
    margin: 10px 0 18px 0;
    padding: 16px 16px;
    border-radius: var(--card-radius);
    border: 1px solid var(--border-soft);
    background: linear-gradient(180deg, rgba(var(--fb-blue),0.08), rgba(255,255,255,0.72));
    box-shadow: 0 10px 24px var(--shadow-soft);
  }
  @media (prefers-color-scheme: dark){
    .tm-details{
      border-color: rgba(255,255,255,0.12);
      background: linear-gradient(180deg, rgba(var(--fb-blue),0.18), rgba(20,20,20,0.50));
      box-shadow: 0 14px 34px rgba(0,0,0,0.45);
    }
  }

  .tm-details__header{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 12px;
  }
  .tm-details__title{
    margin: 0;
    font-size: 1rem;
    font-weight: 900;
    letter-spacing: 0.2px;
  }

  .tm-chiprow{
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  .tm-chip{
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid var(--border-soft);
    background: rgba(255,255,255,0.65);
    font-weight: 800;
    font-size: 0.85rem;
  }
  .tm-chip__label{
    font-weight: 900;
    opacity: 0.75;
  }
  @media (prefers-color-scheme: dark){
    .tm-chip{
      border-color: rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.25);
    }
  }

  .tm-grid{
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px;
  }
  @media (max-width: 840px){
    .tm-grid{ grid-template-columns: 1fr; }
  }

  .tm-field{
    border-radius: 12px;
    border: 1px solid var(--border-soft);
    background: rgba(255,255,255,0.70);
    padding: 10px 12px;
    min-width: 0;
  }
  @media (prefers-color-scheme: dark){
    .tm-field{
      border-color: rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.22);
    }
  }

  .tm-field__k{
    font-weight: 900;
    font-size: 0.86rem;
    opacity: 0.75;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .tm-dot{
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(var(--fb-blue), 0.90);
    flex: 0 0 auto;
  }

  .tm-field__v{
    border-radius: 10px;
    border: 1px solid rgba(var(--fb-blue), 0.16);
    background: rgba(255,255,255,0.86);
    padding: 8px 10px;
    overflow-wrap: anywhere;
    word-break: break-word;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.92em;
    line-height: 1.35;
  }
  @media (prefers-color-scheme: dark){
    .tm-field__v{
      border-color: rgba(255,255,255,0.16);
      background: rgba(20,20,20,0.45);
    }
  }
  .tm-field__v a{ text-decoration: none; }
  .tm-field__v a:hover{ text-decoration: underline; }

  .tm-divider{
    margin: 14px 0 10px 0;
    height: 1px;
    background: var(--border-soft);
  }
  @media (prefers-color-scheme: dark){
    .tm-divider{ background: rgba(255,255,255,0.12); }
  }

  /* ===== Predicate/Object table ===== */
  .po-title{ font-weight: 900; margin: 6px 0 10px 0; }

  .po-table{
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    overflow: hidden;
    border-radius: 12px;
    border: 1px solid var(--border-soft);

    /* ✅ FIX: evita que el contenido fuerce overflow */
    table-layout: fixed;
  }
  @media (prefers-color-scheme: dark){
    .po-table{ border-color: rgba(255,255,255,0.12); }
  }

  .po-table thead th{
    text-align: left;
    padding: 10px 12px;
    font-weight: 900;
    border-bottom: 1px solid var(--border-soft);
    background: rgba(var(--fb-blue), 0.10);

    /* ✅ FIX: permite wrap */
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
  }
  @media (prefers-color-scheme: dark){
    .po-table thead th{
      border-bottom-color: rgba(255,255,255,0.12);
      background: rgba(var(--fb-blue), 0.18);
    }
  }

  .po-table tbody td{
    padding: 10px 12px;
    border-bottom: 1px solid rgba(var(--fb-blue), 0.10);
    vertical-align: top;

    /* ✅ FIX: permite wrap y evita desborde */
    min-width: 0;
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
  }
  @media (prefers-color-scheme: dark){
    .po-table tbody td{ border-bottom-color: rgba(255,255,255,0.10); }
  }
  .po-table tbody tr:last-child td{ border-bottom: none; }

  .po-table code{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.92em;

    /* ✅ FIX: el <code> no debe impedir wrap */
    white-space: pre-wrap;
    overflow-wrap: anywhere;
    word-break: break-word;
    display: inline-block;
    max-width: 100%;
  }

  .po-table a{
    display: inline-block;
    max-width: 100%;
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* ===== Cytoscape ===== */
  .viz-container{
    width: 100%;
    height: auto;
    margin: 12px auto 6px auto;
    border-radius: var(--card-radius);
    box-shadow: 0 10px 28px var(--shadow-soft);
    border: 1px solid var(--border-soft);
    overflow: hidden;
    position: relative;
    background: rgba(255,255,255,0.95);
  }
  @media (prefers-color-scheme: dark){
    .viz-container{
      background: rgba(15,15,15,0.75);
      border-color: rgba(255,255,255,0.12);
      box-shadow: 0 12px 34px rgba(0,0,0,0.45);
    }
  }
  .cy{ width:100%; height:100%; display:block; }
  .label-info{
    position:absolute;
    top: 10px; left: 14px;
    font-size: 0.85em;
    opacity: 0.70;
    pointer-events:none;
  }
  .cy-tooltip{
    position:absolute;
    z-index:10;
    max-width:min(560px, 90vw);
    background:rgba(20,20,20,0.92);
    color:#fff;
    padding:6px 8px;
    border-radius:10px;
    font-size:12px;
    line-height:1.25;
    pointer-events:none;
    box-shadow:0 10px 30px rgba(0,0,0,0.25);
    display:none;
    word-break:break-word;
    overflow-wrap:anywhere;
  }
</style>

</head><body>

<div class="darkmode">
  <dark-mode-toggle class="slider"></dark-mode-toggle>
</div>

<div class="container">
  <div class="page-wrap">

    <div class="head">
      <h1>Mappings RML para transformar el Censo/Registro de Vehículos a RDF (EDINT CensoVehículos)</h1>
      
        <h2>Release: 14-02-2026</h2>
      

      <dl>
        <dt>Version:</dt><dd>1.0.0</dd>

        <dt>Authors:</dt>
        
          
            <dd>
              
                <a href="mailto:ja.toledo@upm.es">Jhon Toledo</a>
              
            </dd>
          
        

        <dt>Mapping file:</dt>
        <dd><a href="mapping_fem.ttl" target="_blank">mapping_fem.ttl</a></dd>

        <dt>Description:</dt><dd>Este conjunto de mappings RML transforma los datos de un censo o registro municipal de vehículos a RDF, utilizando la ontología EDINT CensoVehículos. El objetivo es generar un grafo RDF interoperable para representar las entidades principales del registro de vehículos y su información asociada, orientada a usos habituales de las entidades locales</dd>

        

        <dt>Download serialization:</dt>
        <dd class="badges">
          <span>
            <a href="mapping_fem.yml" target="_blank">
              <img src="https://img.shields.io/badge/Format-YARRRML-blue.svg" alt="YARRRML">
            </a>
          </span>
          <span>
            <a href="mapping_fem.ttl" target="_blank">
              <img src="https://img.shields.io/badge/Format-TTL-blue.svg" alt="TTL">
            </a>
          </span>
        </dd>
      </dl>

      <hr>
    </div>

    <div class="layout">

      <aside class="tm-toc" id="tmToc">
        <div class="tm-toc__header">
          <h2>Table of Contents</h2>
          <button class="tm-toc__toggle" id="tmTocToggle" aria-expanded="true" aria-controls="tmTocList">
            Collapse
          </button>
        </div>
        <p class="tm-toc__hint">TriplesMaps (4)</p>

        <ul class="tm-toc__list" id="tmTocList">
          
            <li><a href="#diagram-owner_0">owner_0</a></li>
          
            <li><a href="#diagram-permit_0">permit_0</a></li>
          
            <li><a href="#diagram-trafficControlledZone_0">trafficControlledZone_0</a></li>
          
            <li><a href="#diagram-vehicle_0">vehicle_0</a></li>
          
        </ul>
      </aside>

      <main class="tm-main" id="main">

        <div id="nstable" class="section-card">
          <h2 id="ns" class="list">Namespaces</h2>
          <table class="hlist">
            <thead><tr><th>Prefix</th><th>Namespace</th></tr></thead>
            <tbody>
            
              <tr><td><code>edintveh</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#">http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#</a></td></tr>

<tr><td><code>schema</code></td><td><a href="https://schema.org/">https://schema.org/</a></td></tr>

<tr><td><code>edintvehiclepermittype</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/</a></td></tr>

<tr><td><code>edintvehiclepermitstatus</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/</a></td></tr>

<tr><td><code>edintvehiclepermitperiodicity</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/</a></td></tr>

<tr><td><code>edintvehicletype</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/</a></td></tr>

<tr><td><code>edintvehiclepropulsiontype</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/</a></td></tr>

<tr><td><code>edintvehicleenvironmentalbadge</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/">http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/</a></td></tr>

<tr><td><code>edintzone</code></td><td><a href="http://vocab.linkeddata.es/datosabiertos/def/commons/zone#">http://vocab.linkeddata.es/datosabiertos/def/commons/zone#</a></td></tr>

<tr><td><code>rr</code></td><td><a href="http://www.w3.org/ns/r2rml#">http://www.w3.org/ns/r2rml#</a></td></tr>

<tr><td><code>rml</code></td><td><a href="http://semweb.mmlab.be/ns/rml#">http://semweb.mmlab.be/ns/rml#</a></td></tr>

<tr><td><code>rdf</code></td><td><a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a></td></tr>

<tr><td><code>rdfs</code></td><td><a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a></td></tr>

<tr><td><code>xsd</code></td><td><a href="http://www.w3.org/2001/XMLSchema#">http://www.w3.org/2001/XMLSchema#</a></td></tr>

<tr><td><code>ql</code></td><td><a href="http://semweb.mmlab.be/ns/ql#">http://semweb.mmlab.be/ns/ql#</a></td></tr>

<tr><td><code>d2rq</code></td><td><a href="http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#">http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#</a></td></tr>

<tr><td><code>foaf</code></td><td><a href="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/</a></td></tr>

<tr><td><code>formats</code></td><td><a href="http://www.w3.org/ns/formats/">http://www.w3.org/ns/formats/</a></td></tr>

<tr><td><code>comp</code></td><td><a href="http://semweb.mmlab.be/ns/rml-compression#">http://semweb.mmlab.be/ns/rml-compression#</a></td></tr>

<tr><td><code>void</code></td><td><a href="http://rdfs.org/ns/void#">http://rdfs.org/ns/void#</a></td></tr>

<tr><td><code>fnml</code></td><td><a href="http://semweb.mmlab.be/ns/fnml#">http://semweb.mmlab.be/ns/fnml#</a></td></tr>

<tr><td><code>grel</code></td><td><a href="http://users.ugent.be/~bjdmeest/function/grel.ttl#">http://users.ugent.be/~bjdmeest/function/grel.ttl#</a></td></tr>

<tr><td><code>dct</code></td><td><a href="http://purl.org/dc/terms/">http://purl.org/dc/terms/</a></td></tr>

<tr><td><code>map</code></td><td><a href="http://mapping.example.com/">http://mapping.example.com/</a></td></tr>
            
            </tbody>
          </table>
        </div>

        <div id="diagrams" class="section-card">
          <h2 id="diagrams-sec" class="list">TriplesMaps</h2>

          
            <h3 id="diagram-owner_0" class="list">owner_0</h3>

            <div class="tm-details">
              <div class="tm-details__header">
                <p class="tm-details__title">TriplesMap details</p>

                <div class="tm-chiprow">
                  <span class="tm-chip">
                    <span class="tm-chip__label">Kind</span>
                    <span>CSV</span>
                  </span>

                  
                    <span class="tm-chip">
                      <span class="tm-chip__label">Ref</span>
                      <span>ql:CSV</span>
                    </span>
                  
                </div>
              </div>

              <div class="tm-grid">
                
                  <div class="tm-field">
                    <div class="tm-field__k"><span class="tm-dot"></span>Source</div>
                    <div class="tm-field__v">dataset_enriquecido.csv</div>
                  </div>
                

                

                

                

                <div class="tm-field" style="grid-column: 1 / -1;">
                  <div class="tm-field__k"><span class="tm-dot"></span>Subject</div>
                  <div class="tm-field__v">
                    
                      http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}~iri
                    
                  </div>
                </div>
              </div>

              <div class="tm-divider"></div>

              <div class="po-title">Predicate Object</div>
              <table class="po-table">
                <thead>
                  <tr>
                    <th style="width: 30%;">Predicate</th>
                    <th>Object</th>
                  </tr>
                </thead>
                <tbody>
                  
                    <tr>
                      <td><code>a</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Owner</code>
                        
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>

            <div class="viz-container">
              <div class="label-info">RDF triples</div>
              <div id="cy_owner_0" class="cy"></div>
            </div>
          
            <h3 id="diagram-permit_0" class="list">permit_0</h3>

            <div class="tm-details">
              <div class="tm-details__header">
                <p class="tm-details__title">TriplesMap details</p>

                <div class="tm-chiprow">
                  <span class="tm-chip">
                    <span class="tm-chip__label">Kind</span>
                    <span>CSV</span>
                  </span>

                  
                    <span class="tm-chip">
                      <span class="tm-chip__label">Ref</span>
                      <span>ql:CSV</span>
                    </span>
                  
                </div>
              </div>

              <div class="tm-grid">
                
                  <div class="tm-field">
                    <div class="tm-field__k"><span class="tm-dot"></span>Source</div>
                    <div class="tm-field__v">dataset_enriquecido.csv</div>
                  </div>
                

                

                

                

                <div class="tm-field" style="grid-column: 1 / -1;">
                  <div class="tm-field__k"><span class="tm-dot"></span>Subject</div>
                  <div class="tm-field__v">
                    
                      http://vocab.linkeddata.es/datosabiertos/recurso/autorizacion/{subtipo_autorizacion}-{estado}-{fecha_inicio_periodo}-{fecha_activacion}-{fecha_vigencia}-{distintivo}-{tipologia_vehiculo}-{periodicidad}
                    
                  </div>
                </div>
              </div>

              <div class="tm-divider"></div>

              <div class="po-title">Predicate Object</div>
              <table class="po-table">
                <thead>
                  <tr>
                    <th style="width: 30%;">Predicate</th>
                    <th>Object</th>
                  </tr>
                </thead>
                <tbody>
                  
                    <tr>
                      <td><code>a</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Permit</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:authorisesInArea</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:authorisesInSegment</code></td>
                      <td>
                        
                          <code>http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/{tramo_id}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:permitType</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/{tipo_autorizacion}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:permitStatus</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/{estado}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:permitPeriodicity</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/{periodicidad}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:permitOwner</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:authorisesVehicle</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:beginningDate</code></td>
                      <td>
                        
                          <code>{fecha_inicio_periodo}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:activationDate</code></td>
                      <td>
                        
                          <code>{fecha_activacion}</code>
                        
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>

            <div class="viz-container">
              <div class="label-info">RDF triples</div>
              <div id="cy_permit_0" class="cy"></div>
            </div>
          
            <h3 id="diagram-trafficControlledZone_0" class="list">trafficControlledZone_0</h3>

            <div class="tm-details">
              <div class="tm-details__header">
                <p class="tm-details__title">TriplesMap details</p>

                <div class="tm-chiprow">
                  <span class="tm-chip">
                    <span class="tm-chip__label">Kind</span>
                    <span>CSV</span>
                  </span>

                  
                    <span class="tm-chip">
                      <span class="tm-chip__label">Ref</span>
                      <span>ql:CSV</span>
                    </span>
                  
                </div>
              </div>

              <div class="tm-grid">
                
                  <div class="tm-field">
                    <div class="tm-field__k"><span class="tm-dot"></span>Source</div>
                    <div class="tm-field__v">dataset_enriquecido.csv</div>
                  </div>
                

                

                

                

                <div class="tm-field" style="grid-column: 1 / -1;">
                  <div class="tm-field__k"><span class="tm-dot"></span>Subject</div>
                  <div class="tm-field__v">
                    
                      http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}
                    
                  </div>
                </div>
              </div>

              <div class="tm-divider"></div>

              <div class="po-title">Predicate Object</div>
              <table class="po-table">
                <thead>
                  <tr>
                    <th style="width: 30%;">Predicate</th>
                    <th>Object</th>
                  </tr>
                </thead>
                <tbody>
                  
                    <tr>
                      <td><code>a</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/def/commons/zone#TrafficControlledZone</code>
                        
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>

            <div class="viz-container">
              <div class="label-info">RDF triples</div>
              <div id="cy_trafficControlledZone_0" class="cy"></div>
            </div>
          
            <h3 id="diagram-vehicle_0" class="list">vehicle_0</h3>

            <div class="tm-details">
              <div class="tm-details__header">
                <p class="tm-details__title">TriplesMap details</p>

                <div class="tm-chiprow">
                  <span class="tm-chip">
                    <span class="tm-chip__label">Kind</span>
                    <span>CSV</span>
                  </span>

                  
                    <span class="tm-chip">
                      <span class="tm-chip__label">Ref</span>
                      <span>ql:CSV</span>
                    </span>
                  
                </div>
              </div>

              <div class="tm-grid">
                
                  <div class="tm-field">
                    <div class="tm-field__k"><span class="tm-dot"></span>Source</div>
                    <div class="tm-field__v">dataset_enriquecido.csv</div>
                  </div>
                

                

                

                

                <div class="tm-field" style="grid-column: 1 / -1;">
                  <div class="tm-field__k"><span class="tm-dot"></span>Subject</div>
                  <div class="tm-field__v">
                    
                      http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}
                    
                  </div>
                </div>
              </div>

              <div class="tm-divider"></div>

              <div class="po-title">Predicate Object</div>
              <table class="po-table">
                <thead>
                  <tr>
                    <th style="width: 30%;">Predicate</th>
                    <th>Object</th>
                  </tr>
                </thead>
                <tbody>
                  
                    <tr>
                      <td><code>a</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Vehicle</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:registeredOwner</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:vehicleType</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/{tipologia_vehiculo}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:propulsionType</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/{tipologia_propulsion}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:environmentalBadge</code></td>
                      <td>
                        
                          <code>http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/{distintivo}</code>
                        
                      </td>
                    </tr>
                  
                    <tr>
                      <td><code>edintveh:licensePlateNumber</code></td>
                      <td>
                        
                          <code>{vehiculo_id}</code>
                        
                      </td>
                    </tr>
                  
                </tbody>
              </table>
            </div>

            <div class="viz-container">
              <div class="label-info">RDF triples</div>
              <div id="cy_vehicle_0" class="cy"></div>
            </div>
          
        </div>

      </main>
    </div>

  </div>
</div>

<script>
  window.__RML_PAYLOAD__ = {"maps": {"owner_0": {"id": "owner_0", "source_info": {"kind": "CSV", "source": "dataset_enriquecido.csv", "referenceFormulation": "ql:CSV", "iterator": "", "sqlQuery": "", "tableName": ""}, "subject": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}~iri", "subject_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}~iri", "subject_href": null, "subject_linkable": false, "predicates": [{"p": "a", "o_display": "edintveh:Owner", "o_raw": "http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Owner", "o_href": null, "o_linkable": false, "o_base": "edintveh:Owner"}]}, "permit_0": {"id": "permit_0", "source_info": {"kind": "CSV", "source": "dataset_enriquecido.csv", "referenceFormulation": "ql:CSV", "iterator": "", "sqlQuery": "", "tableName": ""}, "subject": "http://vocab.linkeddata.es/datosabiertos/recurso/autorizacion/{subtipo_autorizacion}-{estado}-{fecha_inicio_periodo}-{fecha_activacion}-{fecha_vigencia}-{distintivo}-{tipologia_vehiculo}-{periodicidad}", "subject_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/autorizacion/{subtipo_autorizacion}-{estado}-{fecha_inicio_periodo}-{fecha_activacion}-{fecha_vigencia}-{distintivo}-{tipologia_vehiculo}-{periodicidad}", "subject_href": null, "subject_linkable": false, "predicates": [{"p": "a", "o_display": "edintveh:Permit", "o_raw": "http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Permit", "o_href": null, "o_linkable": false, "o_base": "edintveh:Permit"}, {"p": "edintveh:authorisesInArea", "o_display": "http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}"}, {"p": "edintveh:authorisesInSegment", "o_display": "http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/{tramo_id}", "o_raw": "http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/{tramo_id}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.ciudadesabiertas.es/recurso/transporte/trafico/tramo/{tramo_id}"}, {"p": "edintveh:permitType", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/{tipo_autorizacion}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/{tipo_autorizacion}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitType/{tipo_autorizacion}"}, {"p": "edintveh:permitStatus", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/{estado}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/{estado}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitStatus/{estado}"}, {"p": "edintveh:permitPeriodicity", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/{periodicidad}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/{periodicidad}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePermitPeriodicity/{periodicidad}"}, {"p": "edintveh:permitOwner", "o_display": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}"}, {"p": "edintveh:authorisesVehicle", "o_display": "http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}"}, {"p": "edintveh:beginningDate", "o_display": "{fecha_inicio_periodo}", "o_raw": "{fecha_inicio_periodo}", "o_href": null, "o_linkable": false, "o_base": "{fecha_inicio_periodo}"}, {"p": "edintveh:activationDate", "o_display": "{fecha_activacion}", "o_raw": "fecha_activacion", "o_href": null, "o_linkable": false, "o_base": "fecha_activacion"}]}, "trafficControlledZone_0": {"id": "trafficControlledZone_0", "source_info": {"kind": "CSV", "source": "dataset_enriquecido.csv", "referenceFormulation": "ql:CSV", "iterator": "", "sqlQuery": "", "tableName": ""}, "subject": "http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}", "subject_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/trafico/zona-regulada/{zona-regulada_id}", "subject_href": null, "subject_linkable": false, "predicates": [{"p": "a", "o_display": "edintzone:TrafficControlledZone", "o_raw": "http://vocab.linkeddata.es/datosabiertos/def/commons/zone#TrafficControlledZone", "o_href": null, "o_linkable": false, "o_base": "edintzone:TrafficControlledZone"}]}, "vehicle_0": {"id": "vehicle_0", "source_info": {"kind": "CSV", "source": "dataset_enriquecido.csv", "referenceFormulation": "ql:CSV", "iterator": "", "sqlQuery": "", "tableName": ""}, "subject": "http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}", "subject_raw": "http://vocab.linkeddata.es/datosabiertos/transporte/recurso/vehiculo/{vehiculo_id}", "subject_href": null, "subject_linkable": false, "predicates": [{"p": "a", "o_display": "edintveh:Vehicle", "o_raw": "http://vocab.linkeddata.es/datosabiertos/def/transporte/censovehiculos#Vehicle", "o_href": null, "o_linkable": false, "o_base": "edintveh:Vehicle"}, {"p": "edintveh:registeredOwner", "o_display": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/recurso/titular/{company}"}, {"p": "edintveh:vehicleType", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/{tipologia_vehiculo}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/{tipologia_vehiculo}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleType/{tipologia_vehiculo}"}, {"p": "edintveh:propulsionType", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/{tipologia_propulsion}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/{tipologia_propulsion}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehiclePropulsionType/{tipologia_propulsion}"}, {"p": "edintveh:environmentalBadge", "o_display": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/{distintivo}", "o_raw": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/{distintivo}", "o_href": null, "o_linkable": false, "o_base": "http://vocab.linkeddata.es/datosabiertos/kos/edint/VehicleEnvironmentalBadge/{distintivo}"}, {"p": "edintveh:licensePlateNumber", "o_display": "{vehiculo_id}", "o_raw": "{vehiculo_id}", "o_href": null, "o_linkable": false, "o_base": "{vehiculo_id}"}]}}, "containers": {"owner_0": "cy_owner_0", "permit_0": "cy_permit_0", "trafficControlledZone_0": "cy_trafficControlledZone_0", "vehicle_0": "cy_vehicle_0"}};
</script>

<script>
(function(){
  const toc = document.getElementById("tmToc");
  const btn = document.getElementById("tmTocToggle");
  const links = Array.from(document.querySelectorAll("#tmTocList a"));

  function setCollapsed(collapsed){
    if (!toc || !btn) return;
    toc.classList.toggle("is-collapsed", collapsed);
    btn.textContent = collapsed ? "Expand" : "Collapse";
    btn.setAttribute("aria-expanded", collapsed ? "false" : "true");
    try { localStorage.setItem("tmTocCollapsed", collapsed ? "1" : "0"); } catch(e) {}
  }

  if (toc && btn){
    let saved = null;
    try { saved = localStorage.getItem("tmTocCollapsed"); } catch(e) {}
    if (saved === "1") setCollapsed(true);
    btn.addEventListener("click", () => setCollapsed(!toc.classList.contains("is-collapsed")));
  }

  const targets = links
    .map(a => document.getElementById(a.getAttribute("href").slice(1)))
    .filter(Boolean);

  if (!targets.length) return;

  const idToLink = new Map(links.map(a => [a.getAttribute("href").slice(1), a]));

  function setActive(id){
    links.forEach(a => a.classList.remove("is-active"));
    const a = idToLink.get(id);
    if (a) a.classList.add("is-active");
  }

  const obs = new IntersectionObserver((entries) => {
    const visible = entries
      .filter(e => e.isIntersecting)
      .sort((a,b) => (b.intersectionRatio || 0) - (a.intersectionRatio || 0))[0];
    if (visible?.target?.id) setActive(visible.target.id);
  }, {
    root: null,
    threshold: [0.15, 0.35, 0.55],
    rootMargin: "-15% 0px -70% 0px"
  });

  targets.forEach(t => obs.observe(t));

  if (location.hash) setActive(location.hash.slice(1));
  else setActive(targets[0].id);
})();
</script>

<script>
(function() {
  const payload = window.__RML_PAYLOAD__;
  const maps = payload.maps;
  const containers = payload.containers;
  const instances = [];
  const GTFS_BASE = "http://vocab.gtfs.org/terms#";

  function formatLabel(text, maxLen = 35) {
    if (!text || text.length <= maxLen) return text;
    const words = String(text).split(/([/-])/);
    let result = '';
    let currentLine = '';
    words.forEach(word => {
      if ((currentLine + word).length > maxLen) {
        result += currentLine + '\n';
        currentLine = word;
      } else {
        currentLine += word;
      }
    });
    return result + currentLine;
  }

  function gtfsHrefIfType(pred, objRaw) {
    if (pred !== 'a') return null;
    const m = /^gtfs:([A-Za-z0-9_]+)$/.exec(String(objRaw || '').trim());
    if (!m) return null;
    return GTFS_BASE + m[1];
  }

  function buildElements(m) {
    const elements = [];
    const subjHref = m.subject_linkable ? (m.subject_href || null) : null;

    elements.push({
      data: {
        id: 's',
        label: formatLabel(m.subject, 50),
        full: String(m.subject_raw || m.subject || ''),
        href: subjHref,
        isLink: subjHref ? 1 : 0
      }
    });

    (m.predicates || []).forEach((item, i) => {
      const objFull = String(item.o_raw || item.o_display || '');
      const objLabel = String(item.o_base || item.o_display || objFull);

      let href = null;
      if (item.o_linkable && item.o_href) href = item.o_href;
      else href = gtfsHrefIfType(String(item.p || ''), objLabel) || null;

      elements.push({
        data: {
          id: 'o' + i,
          label: formatLabel(objLabel, 28),
          full: objFull,
          href: href,
          isLink: href ? 1 : 0
        }
      });

      elements.push({
        data: { source: 's', target: 'o' + i, label: String(item.p || '') }
      });
    });

    return elements;
  }

  function computeDiagramHeight(nPredicates) {
    const topPad = 90;
    const bottomPad = 60;
    const perRow = 90;
    const minH = 360;
    const maxH = 1200;
    const h = topPad + bottomPad + Math.max(1, nPredicates) * perRow;
    return Math.max(minH, Math.min(maxH, h));
  }

  function makeLayout(nPredicates, heightPx) {
    const leftX = 120;
    const rightX = 680;
    const topY = 110;
    const bottomY = Math.max(topY + 120, heightPx - 90);
    const count = Math.max(1, nPredicates);
    const step = (bottomY - topY) / (count - 1 || 1);
    const subjectY = (topY + bottomY) / 2;

    return {
      name: 'grid',
      cols: 2,
      transform: (node) => {
        if (node.id() === 's') return { x: leftX, y: subjectY };
        if (count === 1) return { x: rightX, y: subjectY };
        const idx = parseInt(node.id().replace('o',''), 10);
        return { x: rightX, y: topY + (idx * step) };
      }
    };
  }

  const cyStyle = [
    { selector: 'node', style: {
      'shape': 'round-rectangle',
      'background-color': '#fff4dd',
      'border-width': 1,
      'border-color': '#e0d5ba',
      'label': 'data(label)',
      'text-valign': 'center',
      'text-halign': 'center',
      'text-wrap': 'wrap',
      'font-family': 'monospace',
      'font-size': '12px',
      'width': 'label',
      'height': 'label',
      'padding': '15px'
    }},
    { selector: 'edge', style: {
      'width': 1,
      'line-color': '#333',
      'target-arrow-shape': 'triangle',
      'curve-style': 'straight',
      'label': 'data(label)',
      'font-size': '10px',
      'text-background-color': '#e2d1f9',
      'text-background-opacity': 1,
      'text-background-padding': '3px',
      'edge-text-rotation': 'none'
    }},
    { selector: 'node[isLink = 1]', style: {
      'border-color': '#b99cff',
      'background-color': '#fff',
      'border-width': 2,
      'cursor': 'pointer'
    }}
  ];

  function attachTooltip(cy) {
    const container = cy.container();
    const viz = container.closest('.viz-container');
    if (!viz) return;

    let tip = viz.querySelector('.cy-tooltip');
    if (!tip) {
      tip = document.createElement('div');
      tip.className = 'cy-tooltip';
      viz.appendChild(tip);
    }

    function showTip(text, x, y) {
      tip.textContent = text;
      tip.style.display = 'block';
      tip.style.left = (x + 12) + 'px';
      tip.style.top  = (y + 12) + 'px';
    }

    function hideTip() {
      tip.style.display = 'none';
      tip.textContent = '';
    }

    const MIN_LEN = 40;

    cy.on('mouseover', 'node', (evt) => {
      const n = evt.target;
      const full = (n.data('full') || '').toString();
      if (!full || full.length < MIN_LEN) return;
      const rp = n.renderedPosition();
      showTip(full, rp.x, rp.y);
    });

    cy.on('mouseout', 'node', hideTip);
    cy.on('drag', 'node', hideTip);
    cy.on('zoom pan', hideTip);
  }

  function initAll() {
    Object.keys(containers).forEach((tmId) => {
      const cyDivId = containers[tmId];
      const el = document.getElementById(cyDivId);
      const m = maps[tmId];
      if (!el || !m) return;

      const viz = el.closest('.viz-container');
      const n = (m.predicates || []).length;

      const neededH = computeDiagramHeight(n);
      if (viz) viz.style.height = neededH + "px";

      const cy = cytoscape({
        container: el,
        elements: buildElements(m),
        style: cyStyle,
        layout: makeLayout(n, neededH)
      });

      cy.on('tap', 'node[isLink = 1]', (evt) => {
        const href = evt.target.data('href');
        if (href) window.open(href, '_blank', 'noopener');
      });

      attachTooltip(cy);

      cy.fit(null, 50);
      instances.push({ cy, tmId });
    });
  }

  initAll();

  window.addEventListener('resize', function() {
    instances.forEach((entry) => {
      const cy = entry.cy;
      const tmId = entry.tmId;
      const el = cy.container();
      const viz = el.closest('.viz-container');
      const m = maps[tmId];
      const n = (m?.predicates || []).length;

      const neededH = computeDiagramHeight(n);
      if (viz) viz.style.height = neededH + "px";

      cy.resize();
      cy.layout(makeLayout(n, neededH)).run();
      cy.fit(null, 50);
    });
  });
})();
</script>
<footer class="rmldoc-footer" style="margin: 2.5rem 0 1.5rem; padding-top: 1rem; border-top: 1px solid rgba(0,0,0,.15); font-size: 0.95rem; opacity: 0.9; text-align: center;">
  <strong>This documentation was generated using</strong>
  <em><a href="https://oeg-upm.github.io/rmldoc/" target="_blank" rel="noopener noreferrer">RMLdoc</a></em>.
</footer>
<script type="module" src="resources/disable-deprecated.js"></script>
</body></html>